■OSI参照モデル
OSI(Open Systems Interconnection)参照モデルとは、国際標準化機構(ISO)により策定されたコンピュータなどの通信機器の通信機能を、階層構造に分割したモデル
通信プロトコルを7つの階層に分けて、それぞれの階層で行われる通信機能を定義
また、OSI参照モデルにより、ネットワーク全体でどのようにデータが伝送されていくのか、ネットワークの仕組みをわかりやすく理解できるように説明している側面もある

設計・構築・障害対応などでプロトコルに関して議論するときは、OSI参照モデルに基づき話をするためOSI参照モデル

■OSI参照モデルの歴史
OSI参照モデルが策定される以前は、コンピュータネットワークは単一のメーカーの製品同士でしか組めなかった。
異種間でのネットワーク構築を実現するための設計方針(OSI)が策定
OSI準拠製品そのものはTCP/IPの普及の陰に隠れ普及しなかったが、各メーカーの機器はOSI参照モデルの考え方はネットワーク通信に使用されている

■OSI参照モデルの階層構造
OSI参照モデルは第1層から第7層の7つの層
各階層の呼び方がある
1.	物理層
2.	データリンク層
3.	ネットワーク層
4.	トランスポート層
5.	セッション層
6.	プレゼンテーション層
7.	アプリケーション層

■各層ごとの役割
第1層　ビット列を電気信号に変換するための設定
第2層　直接的に接続されたノード間の通信のための規定
例：MACフレームの宛先アドレスに基づいた通信
第3層　ネットワーク間のエンドツーエンドの通信のための規定
例：IPアドレスの宛先アドレスに基づいた通信
第4層　ノード間のデータ転送の信頼を確保するための規定
例：TCP or UDPによる通信
第5層　通信プログラム間の通信の確立、維持、終了の規定
例：Webクライアント→Webサーバー
　　メールクライアント→メールサーバー

第6層　文字コードなどのデータの表現形式の規定
例：Shift-JIS→標準的なコード→EUC

第7層　アプリケーション固有の規定

■OSI参照モデルにおけるカプセル化と非カプセル化
コンピュータ間で通信する場合、送信側では第7層から第1層へ下っていく。層を1つ下っていく毎にヘッダという情報がデータの前に追加されていく。上位層の処理情報をヘッダとして下位層で包み込んでいくことをカプセル化という。そして第1層でデータが電気信号として送信される。
受信側では第1層から第7層へ登っていき、上るごとに付与されたヘッダが外されていく、これを非カプセル化という

■PDU(プロトコルデータユニット)
コンピュータ通信におけるデータの単位
第2層ではフレーム、第3層ではパケット、第4層ではセグメントと呼ぶ。

■アプリケーション層
利用するアプリケーションの通信サービスが実現できるような固有の規定を定義
Webページを閲覧するためのブラウザ、電子メールを送受信するメーラーなどこれらのアプリケーションごとに固有のプロトコルがある
例えばWebページの閲覧ならばHTTP、電子メールの送受信ならばSMTPとPOP3、ユーザーが直接接する部分
送信側のメールサーバーからメールを送信するとSMTPプロトコルにおいて送信され、メールのデータにアプリケーション層のヘッドがつけられ、下のプレゼンテーション層に渡される

■プレゼンテーション層
圧縮方式、文字コード、データの復号/暗号などのデータ形式の規定
コンピュータ固有の方式を脱却し、標準的な表現形式に変換される、変換後文字コードなどのデータをヘッダとして付与する
文字コードの違うコンピュータ間での文字化け防止のために必要

■セッション層
アプリケーション間でのセッションの確立、維持、終了の手順の規定
例えば1つのコンピュータでWebブラウザとメーラーを同時に起動している場合、Webデータとメールデータが混線しないように経路を設定する

■トランスポート層
ノード間のデータ転送における信頼性の確保とアプリケーション間でセッションを開始するうえで必要なポート番号の割り当てについての規定
コネクションの確立、エラー制御、フロー制御、順序制御
アプリケーション同士の論理的な経路をセッションといい、ノード間の論理的な経路をコネクションという

■ネットワーク層
ノード間のエンドツーエンド(起点から終点まで)の通信の規定
ネットワーク層では、送信元のコンピュータからデータをスイッチ、ルータなどの機器を経由して、宛先のコンピュータへ届けるためにソフトウェアアドレス(具体例：IPアドレス)をノードに割り当て、ルータはこのソフトウェアアドレスに基づき、宛先のコンピュータまでの最適な経路を選択(ルーティング)してデータを送信する。

■データリンク層
1つのネットワーク回線上で直接接続されたノード同士の通信について規定
例えばLANではEthernetなどにより同じネットワークセグメント内におけるノード間の通信を行っており、WANではPPPやHDLCで隣接するネットワーク機器間の通信を行っている。
データリンク層ではLANで各ノードにハードウェアアドレス(例：MACアドレス)を割り当て、その情報をもとに通信を行う。また、FCSを付加することで受信フレームにエラーがないか確認できる。

■物理層
ネットワークの物理的な接続や伝送方式を規定
ノードからデータを送信する場合はコンピュータ内部で使用している「0」と「1」のビット列を電気信号に変換しネットワークへ伝送を行う。
ノードがネットワークから電気信号を受信する際は、受信した信号をノードが「0」と「1」のビット列に変換して、コンピュータ内部に情報を取り込む。
